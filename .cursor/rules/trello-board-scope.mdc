---
alwaysApply: true
description: Restrict Trello operations to the configured board from dev.config.
globs:
  - "**/*.erl"
---

Project rule: Trello board scope (testing only)
----------------------------------------------

- During testing, Trello API interactions MUST target only the board id configured in the application environment (`trellang.board_id`).
- Access to lists on that board is allowed (including lists other than the primary `trellang.list_id`).
- Production/library code MUST be boardâ€‘agnostic and MUST NOT enforce a specific board id.
- The key/token in `dev.config` are tied to a specific account; do not assume broader permissions.

Implementation guidance (tests):
- In test setup, read `trellang.board_id` via `application:get_env/2` and use lists/cards on that board only.
- For endpoints that accept list ids, ensure the list belongs to the configured board in test setup/data.
- Optionally assert responses contain `idBoard == trellang.board_id` in tests to catch misconfiguration.

Rationale:
- Prevents accidental access or mutation of resources outside the intended test/development board while keeping the client usable for any board in normal use.

